<div class="container">
  <div class="row">
    <div class="col">
      <h1 class="text-center">Prueba Arquero</h1>
    </div>
  </div>
  <div class="row mt-5">
    <h5>Datos Empleados</h5>
  </div>
  <div class="row estilo-cabecera-tabla">
    <div class="col text-right m-1">
      <img
        class="m-2"
        src="../assets/iconos/mas.png"
        width="25"
        (click)="cargarFormularioAnadirEmpleado()"
      />
      <img
        class="m-2"
        src="../assets/iconos/recargar.png"
        width="25"
        (click)="refrescarTablaEmpleados()"
      />
    </div>
  </div>
  <div class="row">
    <div class="col p-0 table-responsive">
      <table class="mx-auto">
        <tr>
          <th>ID</th>
          <th>NOMBRE</th>
          <th>APELLIDO1</th>
          <th>APELLIDO2</th>
          <th>DNI</th>
          <th>DOMICILIO</th>
          <th>ACCIONES</th>
        </tr>
        <tr *ngFor="let empleado of datosTabla">
          <td>{{ empleado.id }}</td>
          <td>{{ empleado.nombre }}</td>
          <td>{{ empleado.apellido1 }}</td>
          <td>{{ empleado.apellido2 }}</td>
          <td>{{ empleado.dni }}</td>
          <td>{{ empleado.domicilio }}</td>
          <td>
            <div class="row">
              <div class="col cursor">
                <img
                  src="../assets/iconos/borrar.png"
                  width="25"
                  (click)="eliminarEmpleado(empleado)"
                />
              </div>
              <div class="col cursor">
                <img
                  src="../assets/iconos/editar.png"
                  width="25"
                  (click)="cargarFormularioEditarEmpleado(empleado)"
                />
              </div>
            </div>
          </td>
        </tr>
      </table>
    </div>
  </div>

  <div
    class="row m-5"
    *ngIf="mostrarFormularioAnadirEmpleado || mostrarFormularioEditarEmpleado"
  >
    <div class="row">
      <div class="col mx-auto">
        <h3 class="text-center">Formulario Añadir/Editar Empleado</h3>
      </div>
    </div>
    <form class="mt-5" [formGroup]="formularioEmpleado">
      <div class="row">
        <div class="col-12 col-md-4">
          <label for="nombre">Nombre</label>
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control"
              id="nombre"
              formControlName="nombre"
            />
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="apellido1">Apellido 1</label>
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control"
              id="apellido1"
              formControlName="apellido1"
            />
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="apellido2">Apellido 2</label>
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control"
              id="apellido2"
              formControlName="apellido2"
            />
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col-12 col-md-4">
          <label for="dni">DNI</label>
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control"
              id="dni"
              formControlName="dni"
            />
          </div>
        </div>
        <div class="col-12 col-md-4">
          <label for="domicilio">Domicilio</label>
          <div class="input-group mb-3">
            <input
              type="text"
              class="form-control"
              id="domicilio"
              formControlName="domicilio"
            />
          </div>
        </div>
        <div class="col-12 col-md-4 my-auto mx-auto text-center">
          <button
            class="btn btn-primary text-center"
            *ngIf="mostrarFormularioAnadirEmpleado"
            (click)="anadirEmpleado()"
          >
            Añadir Empleado
          </button>
          <button
            class="btn btn-primary text-center"
            *ngIf="mostrarFormularioEditarEmpleado"
            (click)="editarEmpleado(empleadoSeleccionado)"
          >
            Editar Empleado
          </button>
        </div>
      </div>
      <div class="home-components-errors">
        <small
          class="text-danger"
          *ngIf="formularioEmpleado.get('dni').hasError('dniInvalido')"
        >
          {{ formularioEmpleado.get("dni").getError("dniInvalido") }}
        </small>
      </div>
      <div *ngIf="mostrarMensajeErrorGeneral" class="text-danger">
        Todos los campos obligatorios deben ser rellenados.
      </div>
    </form>
  </div>
</div>
